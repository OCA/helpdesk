<?xml version='1.0' encoding='utf-8' ?>
<odoo>
    <record id="ticket_view_form" model="ir.ui.view">
        <field name="name">helpdesk.ticket.view.form</field>
        <field name="model">helpdesk.ticket</field>
        <field name="inherit_id" ref="helpdesk_mgmt.ticket_view_form" />
        <field name="priority">99</field>
        <field name="arch" type="xml">
            <header position="inside">
                <field name="is_new_stage" invisible="1" />
                <field name="can_create_activity" invisible="1" />
                <button
                    string="Perform Action"
                    class="btn btn-primary"
                    name="perform_action"
                    type="object"
                    attrs="{'invisible': [('can_create_activity', '=', False), ('is_new_stage', '=', True)]}"
                />
            </header>
            <group name="main" position="inside">
                <group string="Activity Config">
                    <field name="res_id" invisible="1" />
                    <field name="res_model" invisible="1" />
                    <field name="record_ref" />
                    <field
                        name="source_activity_type_id"
                        attrs="{'invisible': ['|', ('res_id', '=', False), ('res_model', '=', False)]}"
                        domain="['|', ('res_model', '=', False), ('res_model', '=', res_model)]"
                    />
                    <field
                        name="date_deadline"
                        attrs="{'invisible': [('source_activity_type_id', '=', False)]}"
                    />
                </group>
            </group>
        </field>
    </record>
</odoo>
